// Blancmange curve
var y:=0;
for (var n := 0; n < 100; n+=1)
{
  var tmp:= 2^n*x;
  var s1:= abs(tmp-floor(tmp));
  var s2:= abs(tmp-ceil(tmp));
  var s:= min(s1,s2);
  y += s/(2^n);
};

if (floor(x)%2)
{
  y *= -1;
};

Blancmange := y;

Blancmange_sin := 0.5*sin(pi*x);

// Weierstrass
y:=0;
var a:=0.5;
var b:=3;
var peak := 0;
for (var n := 0; n < 100; n+=1)
{
  y += a^n*cos(b^n*pi*x);
  peak += a^n;
};

Weierstrass := y;

Weierstrass_cos := peak*cos(pi*x);
